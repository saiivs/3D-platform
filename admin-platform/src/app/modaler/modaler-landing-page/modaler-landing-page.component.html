
<div class="hp-main-layout-content">
  <div class="row mb-32 gy-32">
    <div class="col-12">
      <div class="card">
        <div class="card-body">
          <div class="row justify-content-between">
            <div class="col pe-md-32 pe-md-120" >
              <h4>Client Details</h4>

              <p class="hp-p1-body" *ngIf="clients.length != 0;else emptyTable">
                This table lists the clients whose products have been assigned to you for further development
              </p>
            </div>
            <ng-template #emptyTable style="margin: auto;">
              <p class="hp-p1-body emptyTable">
                No data to view. Try adding new client.
              </p>
              <div class="emptyImg">
                <img  src="assets/myImg/empty-folder.png" alt="" />
              </div>

            </ng-template>

            <div class="table-responsive col-12 mt-16">
              <table *ngIf="clients.length != 0"  class="table table-bordered text-center">
                <thead>
                  <tr>
                    <th scope="col">Sl No</th>
                    <th scope="col">Client Name</th>
                    <th scope="col">Product Count</th>
                    <th scope="col">Product List</th>
                    <th scope="col">Product Status</th>

                  </tr>
                </thead>
                <tbody>
                  <tr *ngFor=" let client of clients
                  | paginate
                    : {
                        id: 'listing_pagination',
                        itemsPerPage: 50,
                        currentPage: page,
                        totalItems: totalRecords
                      };
                let i = index
              ">
                    <td scope="row">{{(page - 1) * 50 + i + 1}}</td>
                    <td>{{ client.clientData[0].clientName }}</td>
                    <td>{{ client.assignedPro.length }}</td>
                    <td>
                      <button (click)="viewProList(client._id)" class="btn btn-sm btn-outline-primary myhover">
                        View Here
                      </button>
                    </td>
                    <td *ngIf="client.approvedClient;else notApproved"  style="font-size: 1rem;color: green;font-weight: 600;">Complete</td>
                    <ng-template #notApproved>
                      <td [ngStyle]="{color: client.listCompleted == 'Complete' ? 'green' :'red'}" style="font-size: 1rem;font-weight: 600;">{{client.listCompleted}}</td>
                    </ng-template>
                  </tr>
                </tbody>
              </table>
              <div>
                <pagination-controls *ngIf="clients.length != 0;" id="listing_pagination" [maxSize]="5" [directionLinks]="true"
                  (pageChange)="page = $event"></pagination-controls>
              </div>
            </div>

            <div class="col-12 mt-24 hljs-container">
              <pre>
        <code class="html" data-component='table' data-code='overview'></code>
    </pre>
            </div>
          </div>
        </div>
      </div>
    </div>
    <div class="col-12">
      <p class="hp-p1-body">
        Please click the "Invoice" button to generate an invoice for all the approved models.</p>
      <button class="btn btn-sm btn-primary" (click)="Invoice()">Invoice</button>
      <div>
        <small class="text-danger">{{noModelsToInvoiceMsg}}</small>
      </div>
      
    </div>
  </div>
</div>
