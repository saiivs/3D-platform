<div class="hp-main-layout-content" style="height: 100%;">


    <div class="row mb-32 gy-32" style="height: 100%;">
        

        <div class="col-12">
            <div class="card" style="height: 100%;border-radius: 0px;">
                <div class="card-body">
                    <div class="row">
                        <!-- <span class="badge bg-primary-4 hp-bg-dark-primary text-primary border-none position-absolute top-0 left-0 w-auto m-16 my-sm-32 mx-sm-18 py-8 px-16 fw-medium">Featured</span> -->

                        <div class="col-12 col-lg-6 hp-ecommerce-app-detail-slider mt-24 mt-md-0 mb-64 mb-lg-0">
                            

                            <div class="swiper hp-ecommerce-app-detail-slider-2 modelView">
                                <div class="swiper-wrapper">
                                    <div class="swiper-slide">
                                        <div class="d-flex align-items-center justify-content-center" #modelViewerContainer>
                                            <model-viewer #modelTest
                                            camera-controls
                                            camera-orbit="45deg 55deg 115%"
                                            shadow-intensity="1.3"
                                            [src]="src"
                                            disable-tap
                                            alt="A 3D model of an astronaut"
                                            data-js-focus-visible=""
                                            ar-status="not-presenting"
                                            (dblclick)="addHotspot($event)"
                                            >
                                            </model-viewer>
                                            <div class="mywarning">
                                                <span class="badge bg-primary-4 hp-bg-dark-primary text-primary border-none position-absolute top-0 left-0 w-auto m-16 my-sm-32 mx-sm-18 py-8 px-16 fw-medium">{{versionTracker}}</span>
                                              </div>
                                              <!-- Edit button -->
                                            <!-- <div class="EditCorrection">
                                                <span class="badge border-none position-absolute top-0 left-0 w-auto m-16 my-sm-32 mx-sm-18 py-8 px-16 fw-medium" style="background-color: #0010f7;color: white;">Edit</span>
                                              </div> -->
                                        </div>
                                    </div>

                                   
                                </div>
                            </div>
                        </div>

                        <div class="col-12 col-lg-6 gallery">
                         <mat-tab-group (selectedTabChange)="onTabChange($event)">
                            <mat-tab label="Gallery"><app-gallery></app-gallery></mat-tab>
                            <mat-tab label="Correction"><app-hotspot-correction (childEventToInvokeHotspot)="removeHotspot($event)" (setTabPanelInvokeEvent)="setTabPanels()" [clientId]="clientId" [articleId]="articleId" [version]="version" [hotspotDataCorrection]="hotSpotData"></app-hotspot-correction></mat-tab>
                                <mat-tab [label]="tab" *ngFor="let tab of tabPanels">
                                    <div class="col-12 correctionPoints" *ngFor="let hotspot of hotSpotData;let i = index">
                                        <ng-container *ngIf="!hotspot.editFlag;else editForm">
                                            <span class="bg-primary text-white border-primary border rounded-circle me-8 hp-caption lh-normal d-flex align-items-center justify-content-center" style="min-width: 20px; height: 20px;">{{hotspot.hotspotId}}</span> 
                                        <div class="px-sm-32 rounded border border-black-40 hp-border-color-dark-80 bg-black-0 hp-bg-color-dark-100" style="width: 100%;">
                                            <div class="row align-items-center justify-content-between">
                                                <div class="col-12">
                                                    <div class="row mx-0 mx-sm-n12 align-items-center">
                                                        <!-- <div class="">
                                                            <span class="bg-primary text-white border-primary border rounded-circle me-8 hp-caption lh-normal d-flex align-items-center justify-content-center" style="min-width: 24px; height: 24px;">1</span>
                                                        </div> -->
                                                        
                                                        <div class="col px-0 hp-ecommerce-app-checkout-item-img imageEnlarge" style="flex: 0 0 74px;padding: 3px 0;">
                                                                <img *ngIf="hotspot.corrImg;else noCorrImg" (click)="openCorrectionImg(hotspot.corrImg)" style="border:1px solid black;height: 3rem;" (error)="imageNotFound(hotspot.version,i)" [src]="hotspot.corrImg" alt="image">
                                                                <ng-template #noCorrImg>
                                                                    <i class="hp-text-color-dark-0 ri-2x ri-file-forbid-line"></i>
                                                                </ng-template>  
                                                        </div>

                                                        <div class="col hp-ecommerce-app-checkout-text mt-16 mt-sm-0 ps-0 ps-sm-6" style="flex: 1 0 0px;">
                                                            
                                                            <p class="mt-8 mb-0 text-black-80 hp-text-color-dark-40" style="font-size: smaller;">{{hotspot.correction}}</p>
                                                            <span class="hp-caption d-block text-black-60">By<span class="ms-4 hp-caption fw-normal text-black-60"></span>{{hotspot.QA}}</span>
                                                        </div>
                                                        <div class="col editContainer">
                                                            <i class="hp-text-color-dark-0 ri-2x ri-edit-2-line" (click)="hotSpotData[i].editFlag = true;" style="font-size: 1.5em;cursor: pointer;"></i>
                                                            <span class="hp-caption text-black-60" (click)="hotSpotData[i].editFlag = true;" style="cursor: pointer;"><span class="ms-4 hp-caption fw-normal text-black-60"></span>Edit</span>
                                                        </div>
                                                        
                                                    </div>
                                                    
                                                </div>
                                                

                                                <!-- <div class="col-12 col-md-5 mt-24 mt-sm-0 hp-ecommerce-app-checkout-info">
                                                    <div class="row mx-0 mx-sm-n12 align-items-center justify-content-sm-end">
                                                        <div class="w-auto px-0">
                                                            <div class="input-number">
                                                                <div class="input-number-handler-wrap">
                                                                    <span class="input-number-handler input-number-handler-up">
                                                                        <span class="input-number-handler-up-inner">
                                                                            <svg viewBox="64 64 896 896" width="1em" height="1em" fill="currentColor">
                                                                                <path d="M890.5 755.3L537.9 269.2c-12.8-17.6-39-17.6-51.7 0L133.5 755.3A8 8 0 00140 768h75c5.1 0 9.9-2.5 12.9-6.6L512 369.8l284.1 391.6c3 4.1 7.8 6.6 12.9 6.6h75c6.5 0 10.3-7.4 6.5-12.7z"></path>
                                                                            </svg>
                                                                        </span>
                                                                    </span>

                                                                    <span class="input-number-handler input-number-handler-down input-number-handler-down-disabled">
                                                                        <span class="input-number-handler-down-inner">
                                                                            <svg viewBox="64 64 896 896" width="1em" height="1em" fill="currentColor">
                                                                                <path d="M884 256h-75c-5.1 0-9.9 2.5-12.9 6.6L512 654.2 227.9 262.6c-3-4.1-7.8-6.6-12.9-6.6h-75c-6.5 0-10.3 7.4-6.5 12.7l352.6 486.1c12.8 17.6 39 17.6 51.7 0l352.6-486.1c3.9-5.3.1-12.7-6.4-12.7z"></path>
                                                                            </svg>
                                                                        </span>
                                                                    </span>
                                                                </div>

                                                                <div class="input-number-input-wrap">
                                                                    <input class="input-number-input" type="number" min="1" max="10" value="1">
                                                                </div>
                                                            </div>

                                                            <div class="hp-cursor-pointer mt-4 hp-caption text-black-60 text-decoration-underline">Remove Item</div>
                                                        </div>

                                                        <div class="w-auto px-0 text-end ms-64">
                                                            <div class="h2 mb-0 text-black-80 hp-text-color-dark-30">
                                                                <span>
                                                                    59.<sup style="top: -6px;">00</sup>
                                                                </span>
                                                            </div>

                                                            <div class="d-flex align-items-center mt-4 hp-caption fw-normal text-success">
                                                                <i class="ri-checkbox-circle-fill text-success me-4"></i>
                                                                <span class="text-decoration-underline">Free Shipping</span>
                                                            </div>
                                                        </div>
                                                    </div>
                                                </div> -->
                                            </div>
                                        </div>
                                        </ng-container>
                                        <ng-template #editForm>
                                            <ul class="editUl">
                                            <li>
                                             <div class="listContainer">
                                            <span class="bg-primary text-white border-primary border rounded-circle me-8 hp-caption lh-normal d-flex align-items-center justify-content-center" style="min-width: 20px; height: 20px;">{{i+1}}</span> 
                                             <input style="width:70%;" type="text" [(ngModel)]="editTxtInput" class="form-control mb-16" placeholder="type here.." aria-label="Username" aria-describedby="basic-addon1">
                                             <input type="file" (change)="getEditImage($event)" id="{{hotspot.hotspotName}}" hidden>
                                             <label for="{{hotspot.hotspotName}}" class="btn btn-sm btn-primary">Image</label>
                                             <button class="btn btn-sm btn-success" (click)="editCorrection(i)" >Save</button> 
                                             </div>
                                         </li>  
                                     </ul>
                                        </ng-template>    
                                    </div>
                                </mat-tab>
                              </mat-tab-group>   
                        </div>
                    </div>    
                </div>
            </div>
        </div>
    </div>
</div>
